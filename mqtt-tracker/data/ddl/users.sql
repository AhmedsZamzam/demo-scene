GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'replicator' IDENTIFIED BY 'replpass';
GRANT SELECT, RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT  ON *.* TO 'debezium' IDENTIFIED BY 'dbz';

CREATE DATABASE demo;
GRANT ALL PRIVILEGES ON demo.* TO 'mysqluser'@'%';

use demo;

CREATE TABLE USERS (USERID VARCHAR(255), 
                    EMAIL  VARCHAR(255), 
                    SHARE_LOCATION_OPTIN BOOLEAN,
                    PRIVACY_LOCATION_LAT DOUBLE,
                    PRIVACY_LOCATION_LON DOUBLE,
                    PRIVACY_ZONE_KM INT,
                    CREATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP ,
                    UPDATE_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

INSERT INTO USERS (USERID, EMAIL, SHARE_LOCATION_OPTIN, PRIVACY_LOCATION_LAT, PRIVACY_LOCATION_LON, PRIVACY_ZONE_KM) 
           VALUES ('rmoff','robin@rmoff.net', TRUE, 52.924651779196246,-1.7996157809808713, 1);

INSERT INTO USERS (USERID, EMAIL, SHARE_LOCATION_OPTIN) 
           VALUES ('tom','tom@example.com', FALSE);

INSERT INTO USERS (USERID, EMAIL, SHARE_LOCATION_OPTIN) 
           VALUES ('isla','isla@example.com', FALSE);
